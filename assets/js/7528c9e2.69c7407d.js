"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([[52178],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var c=n.createContext({}),s=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=s(e.components);return n.createElement(c.Provider,{value:t},e.children)},p="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=s(a),d=o,m=p["".concat(c,".").concat(d)]||p[d]||f[d]||r;return a?n.createElement(m,l(l({ref:t},u),{},{components:a})):n.createElement(m,l({ref:t},u))}));function m(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,l=new Array(r);l[0]=d;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[p]="string"==typeof e?e:o,l[1]=i;for(var s=2;s<r;s++)l[s]=a[s];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},46998:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>f,frontMatter:()=>r,metadata:()=>i,toc:()=>s});var n=a(87462),o=(a(67294),a(3905));const r={title:"External Table Statistics",language:"en"},l=void 0,i={unversionedId:"lakehouse/external-statistics",id:"lakehouse/external-statistics",title:"External Table Statistics",description:"\x3c!--",source:"@site/docs/lakehouse/external-statistics.md",sourceDirName:"lakehouse",slug:"/lakehouse/external-statistics",permalink:"/docs/dev/lakehouse/external-statistics",draft:!1,tags:[],version:"current",frontMatter:{title:"External Table Statistics",language:"en"},sidebar:"docs",previous:{title:"File Cache",permalink:"/docs/dev/lakehouse/filecache"},next:{title:"File System Benchmark Tools",permalink:"/docs/dev/lakehouse/fs-benchmark-tool"}},c={},s=[{value:"Property to turn on automatic collection when creating a catalog (default is false)",id:"property-to-turn-on-automatic-collection-when-creating-a-catalog-default-is-false",level:3},{value:"Control automatic collection by modifying the Catalog attribute:",id:"control-automatic-collection-by-modifying-the-catalog-attribute",level:3}],u={toc:s},p="wrapper";function f(e){let{components:t,...a}=e;return(0,o.kt)(p,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"external-table-statistics"},"External Table Statistics"),(0,o.kt)("p",null,"The collection method and content of external table statistical information are basically the same as those of internal tables. For detailed information, please refer to the ",(0,o.kt)("a",{parentName:"p",href:"/docs/dev/query-acceleration/statistics"},"statistical information"),". After version 2.0.3, Hive tables support automatic and sampling collection."),(0,o.kt)("h1",{id:"note"},"Note"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Currently (2.0.3) only Hive external tables support automatic and sampling collection. HMS type of Iceberg and Hudi tables, as well as JDBC tables only support manual full collection. Other types of external tables do not support statistics collection yet.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"The automatic collection function is turned off by default for the external tables. You need to add attributes to turn it on when creating the external catalog, or enable it by setting the catalog attribute."))),(0,o.kt)("h3",{id:"property-to-turn-on-automatic-collection-when-creating-a-catalog-default-is-false"},"Property to turn on automatic collection when creating a catalog (default is false)"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-SQL"},"'enable.auto.analyze' = 'true'\n")),(0,o.kt)("h3",{id:"control-automatic-collection-by-modifying-the-catalog-attribute"},"Control automatic collection by modifying the Catalog attribute:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sql"},"ALTER CATALOG external_catalog SET PROPERTIES ('enable.auto.analyze'='true'); // enable auto collection\nALTER CATALOG external_catalog SET PROPERTIES ('enable.auto.analyze'='false'); // disable auto collection\n")))}f.isMDXComponent=!0}}]);